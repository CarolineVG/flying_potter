$(document).ready(function(){function e(){f.css("display","none"),c.css("display","block"),t()}function t(){function e(){clearInterval(t),C=!0,d.css("display","block"),$("#game_over h1").css("display","block"),$("#game_over h4").css("display","block"),$("#replay").css("display","block"),$("#end_score").text(x)}var t=setInterval(function(){if(s(c,p)||s(c,i)||parseInt(c.css("top"))<=0||parseInt(c.css("top"))>g-k)e();else{var t=parseInt(a.css("right"));if(t>h-I&&(w||(x++,l.text(x),w=!0)),t>h){var n=parseInt(100*Math.random());p.css("height",m+n),i.css("height",m-n),b++,u.text(b),w=!1,t=v}a.css("right",t+b),_||o()}},40)}function o(){c.css("top",parseInt(c.css("top"))+5)}function n(){c.css("top",parseInt(c.css("top"))-10)}function s(e,t){var o=e.offset().left,n=e.offset().top,s=e.outerHeight(!0),r=e.outerWidth(!0),c=n+s,a=o+r,p=t.offset().left,i=t.offset().top,l=t.outerHeight(!0),u=t.outerWidth(!0),d=i+l,f=p+u;return i>c||n>d||p>a||o>f?!1:!0}var r=$("#screen"),c=$("#player"),a=$(".pipe"),p=$("#pipe_top"),i=$("#pipe_bottom"),l=$("#score_screen"),u=$("#speed"),d=$("#game_over"),f=$("#start_screen"),y=$("#replay"),h=parseInt(r.width()),g=parseInt(r.height()),v=parseInt(a.css("right")),m=parseInt(a.css("height")),I=parseInt(c.css("left")),k=parseInt(c.height()),b=4,_=!1,w=!1,x=0,C=!1;f.css("display","block"),c.css("display","none"),c.css("top","200px"),c.css("left","15%"),$("#harry").click(function(){$("#player").css("background-image","url(img/harry_broom.png)"),c=$("#player"),e()}),$("#ron").click(function(){$("#player").css("background-image","url(img/ron_broom.png)"),c=$("#player"),e()}),$(document).on("keyup",function(e){var t=e.keyCode;13===t&&location.reload()}),y.click(function(){location.reload()}),$(document).on("keydown",function(e){var t=e.keyCode;32!==t||_||C||(_=setInterval(n,50))}),$(document).on("keyup",function(e){var t=e.keyCode;32===t&&(clearInterval(_),_=!1)}),$(document).on("mousedown",function(e){var t=e.type;!t||_||C||(_=setInterval(n,50))}),$(document).on("mouseup",function(e){var t=e.type;t&&(clearInterval(_),_=!1)}),$(document).on("taphold",function(e){var t=e.type;!t||_||C||(_=setInterval(n,20),console.log("tap werkt"))}),$(document).on("tap",function(e){var t=e.type;t&&(clearInterval(_),_=!1,console.log("tap werkt"))})});